<?php
namespace app\index\controller;

use think\Controller;
use think\Db;
use think\Session;


class Main extends Controller
{

    /**
     * 初始化
    */
    public function _initialize()
    {
        $module = $this->request->module();
        $username  = session('username');
        if (empty($username)) {
            //$this->redirect('admin/user/login');
        }
    }

    /**
     * Notes: 接口数据返回
     * @param $code
     * @param array $data
     * @param string $msg
     * @param int $count
     * @param array $other
     * @return mixed
     */
    public function apiReturn($code, $data = [], $msg = '', $count = 0, $other = [])
    {
        return json([
            'code' => $code,
            'data' => $data,
            'msg'  => $msg,
            'count' => $count,
            'other' => $other
        ]);
    }
}
